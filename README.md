# 書籍管理システム

## 概要

このプロジェクトは、書籍と著者の情報を管理するシステムです。  
Spring Boot と jOOQ を使用して構築されており、以下の主要な機能を提供します：

- 書籍と著者の情報をデータベースに登録できる機能
- 書籍と著者の情報をデータベースに更新できる機能
- 特定の著者に紐づく書籍情報の取得できる機能

---

## 使用技術

- **言語**: Kotlin
- **フレームワーク**: Spring Boot、jOOQ
- **データベース**: PostgreSQL
- **ビルドツール**: Gradle
- **テスト**: JUnit 5, Mockito, Flyway
- **CI/CD**: GitHub Actions

---

## 機能一覧

### 書籍の属性
- **タイトル**: 書籍の名前を表します。
- **価格**: 書籍の価格を表します（0以上である必要があります）。
- **著者**: 書籍の著者を指定します（最低1人必要、複数人可能）。
- **出版状況**:
    - `未出版`
    - `出版済み`（出版済みのものを未出版には変更不可）

### 著者の属性
- **名前**: 著者の名前を表します。
- **生年月日**: 現在の日付よりも過去である必要があります。
- **執筆可能な書籍**: 著者は複数の書籍を執筆可能です。

---

## 使用方法

### 必要な環境

1. Java 21
2. Docker（PostgreSQL コンテナの起動用）
3. Gradle

### 環境構築

1. プロジェクトをクローンします。

   ```bash
   git clone
   cd book-manager-backend-api/docker/
   ```

2. Docker コンテナを起動します。
   ```
   docker-compose up -d
   ```
3. アプリケーションをビルドして起動します。
   ```
   cd ../
   ./gradlew clean build
   ./gradlew bootRun
   ```
4. テストを実行します。
   ```
   ./gradlew test
   ```

### データベース
#### PostgreSQL 初期設定
- ユーザー名: postgres
- パスワード: postgres
- データベース名: book_manager

#### マイグレーション
- Flyway を使用してデータベーススキーマを管理します。
- マイグレーションファイルは src/main/resources/db/migration に配置します。

### GitHub Actions
以下のワークフローを実装しています：

- ビルドとテスト
  - プロジェクトのビルド、テストを自動実行します。
- CI パイプライン
  - PostgreSQL を Docker コンテナとして起動し、テスト時に使用します。